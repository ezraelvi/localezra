<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Code Editor dengan Live Preview</title>
<style>
  /* Reset & base */
  * {
    box-sizing: border-box;
  }
  body {
    margin: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #121212;
    color: #eee;
    display: flex; flex-direction: column; height: 100vh;
  }
  header {
    background: #1f1f1f;
    padding: 10px 20px;
    display: flex; justify-content: space-between; align-items: center;
    border-bottom: 1px solid #333;
  }
  header h1 {
    margin: 0; font-weight: 600; font-size: 1.2rem;
  }
  button {
    background: #333; border: none; color: #eee; padding: 6px 12px;
    border-radius: 4px; cursor: pointer;
    transition: background 0.3s;
  }
  button:hover {
    background: #555;
  }
  main {
    flex: 1; display: flex; overflow: hidden;
  }
  .editor-section {
    width: 50%; display: flex; flex-direction: column;
    background: #1e1e1e;
  }
  .tabs {
    display: flex; background: #2a2a2a; border-bottom: 1px solid #444;
  }
  .tab {
    flex: 1; text-align: center; padding: 10px 0;
    cursor: pointer; user-select: none;
    border-bottom: 3px solid transparent;
    transition: border-color 0.3s;
  }
  .tab.active {
    border-bottom: 3px solid #4caf50;
    font-weight: bold;
  }
  textarea {
    flex: 1; background: #121212; border: none; color: #eee;
    font-family: 'Source Code Pro', monospace;
    font-size: 1rem; padding: 10px;
    resize: none;
    outline: none;
  }
  .preview-section {
    width: 50%; background: #000;
    border-left: 1px solid #333;
    display: flex; flex-direction: column;
  }
  iframe {
    flex: 1; border: none; background: white;
  }
  .footer {
    background: #1f1f1f; padding: 8px 20px; text-align: center;
    font-size: 0.9rem; color: #666;
  }
</style>
</head>
<body>

<header>
  <h1>Code Editor Dark Mode</h1>
  <button id="toggleThemeBtn">Toggle Dark Mode</button>
</header>

<main>
  <section class="editor-section">
    <div class="tabs">
      <div class="tab active" data-lang="html">HTML</div>
      <div class="tab" data-lang="css">CSS</div>
      <div class="tab" data-lang="js">JavaScript</div>
    </div>
    <textarea id="codeEditor" spellcheck="false"></textarea>
  </section>
  <section class="preview-section">
    <iframe id="preview" sandbox="allow-scripts allow-same-origin"></iframe>
  </section>
</main>

<div class="footer">Tekan Ctrl+Enter untuk menjalankan kode</div>

<script>
  const tabs = document.querySelectorAll('.tab');
  const editor = document.getElementById('codeEditor');
  const preview = document.getElementById('preview');
  const toggleThemeBtn = document.getElementById('toggleThemeBtn');

  // Simpan kode per tab
  const code = {
    html: '<!-- Tulis HTML di sini -->\n',
    css: '/* Tulis CSS di sini */\n',
    js: '// Tulis JavaScript di sini\n'
  };

  let currentLang = 'html';

  function updateEditor() {
    editor.value = code[currentLang];
    editor.focus();
  }

  function updatePreview() {
    const srcDoc = `
      <html>
        <head>
          <style>${code.css}</style>
        </head>
        <body>
          ${code.html}
          <script>${code.js}<\/script>
        </body>
      </html>
    `;
    preview.srcdoc = srcDoc;
  }

  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      // Simpan dulu kode yang sedang diedit
      code[currentLang] = editor.value;

      // Ganti tab aktif
      tabs.forEach(t => t.classList.remove('active'));
      tab.classList.add('active');

      currentLang = tab.dataset.lang;
      updateEditor();
    });
  });

  editor.addEventListener('input', () => {
    code[currentLang] = editor.value;
  });

  // Jalankan kode ke preview
  function runCode() {
    updatePreview();
  }

  // Shortcut Ctrl+Enter untuk run
  document.addEventListener('keydown', e => {
    if (e.ctrlKey && e.key === 'Enter') {
      e.preventDefault();
      runCode();
    }
  });

  // Dark mode toggle
  let darkMode = true;
  toggleThemeBtn.addEventListener('click', () => {
    darkMode = !darkMode;
    if (darkMode) {
      document.body.style.backgroundColor = '#121212';
      document.body.style.color = '#eee';
      document.querySelector('.editor-section').style.backgroundColor = '#1e1e1e';
      document.querySelector('.preview-section').style.backgroundColor = '#000';
      tabs.forEach(t => t.style.backgroundColor = '#2a2a2a');
      toggleThemeBtn.textContent = 'Toggle Dark Mode';
    } else {
      document.body.style.backgroundColor = '#fff';
      document.body.style.color = '#000';
      document.querySelector('.editor-section').style.backgroundColor = '#f0f0f0';
      document.querySelector('.preview-section').style.backgroundColor = '#fff';
      tabs.forEach(t => t.style.backgroundColor = '#ddd');
      toggleThemeBtn.textContent = 'Toggle Light Mode';
    }
  });

  // Inisialisasi editor dengan tab html
  updateEditor();
  runCode();
</script>

</body>
</html>
