<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="description" content="Secure authentication platform"><meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://api.ipify.org; style-src 'self' 'unsafe-inline'; img-src 'self' data:; connect-src 'self' https://api.ipify.org https://auth-logs.ezvvel.workers.dev/; frame-src 'none';"><meta name="theme-color" content="#0a0a12"><title>Biometric | Authentication</title><style>
:root{--primary:#00ff88;--primary-dark:#00cc6a;--dark:#0a0a12;--darker:#050508;--error:#ff0033;--warning:#ffcc00;--text:#e0e0e0;--text-secondary:#a0a0a0;--bg-gradient:radial-gradient(circle at center, #0a0a20, #000000);--border-radius:8px;--box-shadow:0 4px 6px rgba(0,0,0,.1);--transition:all .3s ease;}*{box-sizing:border-box;margin:0;padding:0;}html{scroll-behavior:smooth;height:100%;}body{background:var(--bg-gradient);color:var(--text);font-family:'Courier New',Courier,monospace;line-height:1.6;min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:1rem;overflow-x:hidden;}.container{width:100%;max-width:480px;min-width:400px;margin:0 auto;position:relative;z-index:1;transform-origin:center center;transform:scale(1);}@media (max-width:480px){.container{transform:scale(.9);min-width:360px;}}.auth-header{text-align:center;margin-bottom:2rem;}.biometric-container{position:relative;margin:0 auto 1.5rem;width:200px;height:200px;}.biometric-scan{width:100%;height:100%;opacity:.8;filter:drop-shadow(0 0 8px rgba(0,255,136,.3));animation:pulse 3s infinite alternate;}.scan-line{position:absolute;top:0;left:0;width:100%;height:4px;background:linear-gradient(to bottom,transparent,var(--primary),transparent);animation:scan 3s linear infinite;opacity:0;z-index:2;}@keyframes scan{0%{top:0;opacity:0;}5%{opacity:1;}95%{opacity:1;}100%{top:100%;opacity:0;}}@keyframes pulse{0%{filter:drop-shadow(0 0 8px rgba(0,255,136,.3));}100%{filter:drop-shadow(0 0 16px rgba(0,255,136,.6));}}.status{margin:1rem 0;font-size:.9rem;color:var(--primary);text-shadow:0 0 5px var(--primary);min-height:1.5rem;transition:var(--transition);}.btn-container{display:flex;flex-wrap:wrap;justify-content:center;gap:.75rem;margin:1.5rem 0;}.auth-btn{background:rgba(0,0,0,.3);border:1px solid var(--primary);color:var(--primary);padding:.75rem 1.5rem;border-radius:var(--border-radius);font-family:inherit;font-size:.9rem;cursor:pointer;transition:var(--transition);display:flex;align-items:center;gap:.5rem;min-width:150px;justify-content:center;text-decoration:none;}.auth-btn:hover:not(:disabled){background:rgba(0,255,136,.1);box-shadow:0 0 10px var(--primary);transform:translateY(-2px);}.auth-btn:disabled{opacity:.5;cursor:not-allowed;border-color:var(--text-secondary);}.auth-btn.primary{background:var(--primary);color:var(--dark);font-weight:bold;}.auth-btn.primary:hover:not(:disabled){background:var(--primary-dark);box-shadow:0 0 15px var(--primary);}.icon{font-size:1.1rem;}.login-form{background:rgba(10,10,18,.8);border:1px solid rgba(0,255,136,.2);border-radius:var(--border-radius);padding:1.5rem;margin-top:1rem;box-shadow:var(--box-shadow);display:none;animation:fadeIn .5s ease;}@keyframes fadeIn{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}.form-group{margin-bottom:1.25rem;}.form-group label{display:block;margin-bottom:.5rem;color:var(--text-secondary);font-size:.9rem;}.form-group input{width:100%;padding:.75rem 1rem;background:rgba(0,0,0,.5);border:1px solid rgba(0,255,136,.3);border-radius:var(--border-radius);color:var(--text);font-family:inherit;transition:var(--transition);}.form-group input:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 2px rgba(0,255,136,.2);}.password-wrapper{position:relative;}.toggle-password{position:absolute;right:.75rem;top:50%;transform:translateY(-50%);background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:.25rem;font-size:1.1rem;transition:var(--transition);}.toggle-password:hover{color:var(--primary);}.loading-spinner{display:none;width:1.25rem;height:1.25rem;border:3px solid rgba(0,255,136,.2);border-top-color:var(--dark);border-radius:50%;animation:spin 1s linear infinite;}.auth-btn .loading-spinner{margin-left:.5rem;}@keyframes spin{to{transform:rotate(360deg);}}.error-msg{color:var(--error);margin-top:1rem;font-size:.85rem;text-align:center;min-height:1.25rem;}.unsupported-warning{background:rgba(255,204,0,.1);border:1px solid var(--warning);border-radius:var(--border-radius);padding:1rem;margin-top:1rem;text-align:center;display:none;}.unsupported-warning p{margin-bottom:1rem;color:var(--warning);}.auth-footer{margin-top:2rem;text-align:center;font-size:.8rem;color:var(--text-secondary);}.ip-display{margin-bottom:.5rem;}.security-info{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-top:.5rem;}.secure-icon{font-size:1rem;}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;}@keyframes shake{0%,100%{transform:translateX(0);}20%,60%{transform:translateX(-5px);}40%,80%{transform:translateX(5px);}}.shake{animation:shake .4s ease;}
</style><script>
class BioVAuth{constructor(){this.env={WORKER_URL:'https://auth-logs.ezvvel.workers.dev/',RATE_LIMIT_WINDOW:3e5,RATE_LIMIT_MAX_ATTEMPTS:5};this.elements={scanLine:document.getElementById('scanLine'),status:document.getElementById('status'),btnContainer:document.getElementById('btnContainer'),loginForm:document.getElementById('loginForm'),fallbackBtn:document.getElementById('fallbackBtn'),visitBtn:document.getElementById('visitBtn'),webauthnBtn:document.getElementById('webauthnBtn'),emailInput:document.getElementById('email'),passwordInput:document.getElementById('password'),submitLogin:document.getElementById('submitLogin'),loadingSpinner:document.getElementById('loadingSpinner'),errorMsg:document.getElementById('errorMsg'),ipDisplay:document.getElementById('ipDisplay'),togglePassword:document.querySelector('.toggle-password'),webauthnUnsupported:document.getElementById('webauthnUnsupported')};this.securityConfig={maxAttempts:3,blockDuration:3e5,cookieName:'bioVAuthSecurity',localStorageKey:'isEzraLoggedIn'};this.state={webauthnSupported:!1,clientInfo:{}};this.init()}async init(){this.startBiometricAnimation();await this.collectClientInfo();this.setupEventListeners();this.checkWebAuthnSupport();this.securitySystem=new SecuritySystem(this.securityConfig.maxAttempts,this.securityConfig.blockDuration,this.securityConfig.cookieName)}async collectClientInfo(){try{const controller=new AbortController();const id=setTimeout(()=>controller.abort(),3e3);const ipResponse=await fetch('https://api.ipify.org?format=json',{signal:controller.signal});clearTimeout(id);if(!ipResponse.ok)throw new Error(`HTTP error! status: ${ipResponse.status}`);const ipData=await ipResponse.json();this.state.clientInfo={ip:ipData.ip,userAgent:navigator.userAgent,platform:navigator.platform,timestamp:(new Date).toISOString(),screenResolution:`${window.screen.width}x${window.screen.height}`,language:navigator.language};this.elements.ipDisplay.textContent=`IP: ${ipData.ip} • ${navigator.platform}`}catch(error){console.error('Error collecting client info:',error);this.state.clientInfo={ip:'unavailable',userAgent:navigator.userAgent,platform:navigator.platform||'unknown',timestamp:(new Date).toISOString(),screenResolution:`${window.screen.width}x${window.screen.height}`,language:navigator.language||'unknown'};this.elements.ipDisplay.textContent='Network: Secure • Private'}}startBiometricAnimation(){this.elements.scanLine.style.opacity='1';this.updateStatus('Initializing security protocols...','info');setTimeout(()=>{this.elements.scanLine.style.opacity='0';this.updateStatus('System ready, is better if you use desktop site','success');this.elements.btnContainer.style.display='flex'},2e3)}updateStatus(message,type='info'){this.elements.status.textContent=message;this.elements.status.className='status';if(type)this.elements.status.classList.add(type)}setupEventListeners(){this.elements.fallbackBtn.addEventListener('click',()=>this.showLoginForm());this.elements.visitBtn.addEventListener('click',()=>window.location.href='dashboard/index.html');this.elements.webauthnBtn.addEventListener('click',()=>{if(this.state.webauthnSupported)this.initiateWebAuthn();else this.elements.webauthnUnsupported.style.display='block'});this.elements.loginForm.addEventListener('submit',e=>{e.preventDefault();this.handleLogin()});this.elements.togglePassword.addEventListener('click',()=>this.togglePasswordVisibility())}checkWebAuthnSupport(){if(!window.PublicKeyCredential){this.state.webauthnSupported=!1;this.elements.webauthnBtn.disabled=!0;this.elements.webauthnUnsupported.style.display='block';return}PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable().then(available=>{this.state.webauthnSupported=available;if(!available)this.elements.webauthnUnsupported.style.display='block'}).catch(()=>{this.state.webauthnSupported=!1;this.elements.webauthnUnsupported.style.display='block'})}showLoginForm(){this.elements.btnContainer.style.display='none';this.elements.loginForm.style.display='block';this.elements.emailInput.focus();this.updateStatus('Enter your credentials','info')}async handleLogin(){if(this.securitySystem.isBlocked()){this.showBlockedMessage();return}const username=this.elements.emailInput.value.trim().toLowerCase();const password=this.elements.passwordInput.value;if(!username||!password){this.showError('Please fill in all fields (username and password).');return}this.setLoadingState(!0);try{const response=await fetch(this.env.WORKER_URL,{method:'POST',headers:{'Content-Type':'application/json','X-Client-IP':this.state.clientInfo.ip,'X-Client-UA':this.state.clientInfo.userAgent},body:JSON.stringify({username,password})});const responseData=await response.json();if(responseData.authenticated){localStorage.setItem(this.securityConfig.localStorageKey,'true');this.securitySystem.resetAttempts();this.updateStatus('Authentication successful! Redirecting...','success');window.location.href='dashboard/index.html'}else{this.handleFailedLogin(responseData.message||'Invalid username or password.')}}catch(error){console.error('Login error (network or worker response parsing issue):',error);this.showError('Login failed: network issue or server error. Please try again.');this.securitySystem.recordFailedAttempt()}finally{this.setLoadingState(!1)}}handleSuccessfulLogin(){localStorage.setItem(this.securityConfig.localStorageKey,'true');this.securitySystem.resetAttempts();this.updateStatus('Authentication successful!','success');this.elements.errorMsg.textContent='';window.location.href='dashboard/index.html'}handleFailedLogin(errorMessage){this.securitySystem.recordFailedAttempt();const attemptsLeft=this.securitySystem.maxAttempts-this.securitySystem.attemptData.attempts;let displayMessage=errorMessage+(attemptsLeft>0?` (${attemptsLeft} ${1===attemptsLeft?'attempt':'attempts'} left)`:'');this.showError(displayMessage);if(this.securitySystem.isBlocked())this.showBlockedMessage();this.elements.passwordInput.value='';this.elements.passwordInput.focus();this.elements.loginForm.classList.add('shake');setTimeout(()=>this.elements.loginForm.classList.remove('shake'),500)}showBlockedMessage(){let remainingTime=this.securitySystem.getRemainingBlockTime();const updateCountdown=()=>{const minutes=Math.floor(remainingTime/60);const seconds=remainingTime%60;this.showError(`Too many attempts. Please wait ${minutes}m ${seconds}s.`)};this.setLoadingState(!1);this.elements.submitLogin.disabled=!0;updateCountdown();const countdownInterval=setInterval(()=>{remainingTime=this.securitySystem.getRemainingBlockTime();if(remainingTime<=0){clearInterval(countdownInterval);this.elements.errorMsg.textContent='';this.elements.submitLogin.disabled=!1;return}updateCountdown()},1e3)}showError(message){this.elements.errorMsg.textContent=message;this.elements.errorMsg.style.display='block';setTimeout(()=>{if(this.elements.errorMsg.textContent===message)this.elements.errorMsg.style.display='none'},5e3)}setLoadingState(isLoading){this.elements.submitLogin.disabled=isLoading;this.elements.loadingSpinner.style.display=isLoading?'inline-block':'none';this.elements.submitLogin.querySelector('.btn-text').textContent=isLoading?'Authenticating...':'Login'}togglePasswordVisibility(){const isPassword=this.elements.passwordInput.type==='password';this.elements.passwordInput.type=isPassword?'text':'password';this.elements.togglePassword.textContent=isPassword?'🐵':'👁️';this.elements.togglePassword.setAttribute('aria-label',isPassword?'Hide password':'Show password')}initiateWebAuthn(){if(!this.state.webauthnSupported)return;this.updateStatus('Initiating biometric authentication...','info');setTimeout(()=>this.updateStatus('Please use your device biometric authenticator','info'),1e3)}}class SecuritySystem{constructor(maxAttempts,blockDuration,cookieName){this.maxAttempts=maxAttempts;this.blockDuration=blockDuration;this.cookieName=cookieName;this.attemptData=this.loadAttemptData()}loadAttemptData(){try{const cookieData=this.getCookie(this.cookieName);const data=cookieData?JSON.parse(decodeURIComponent(cookieData)):this.getDefaultData();return this.validateData(data)?data:this.getDefaultData()}catch(e){console.error('Failed to parse cookie data:',e);return this.getDefaultData()}}getDefaultData(){return{attempts:0,lastAttempt:null,blockUntil:null}}validateData(data){return data&&'object'==typeof data&&'attempts'in data&&'lastAttempt'in data&&'blockUntil'in data}saveAttemptData(){const expires=new Date();expires.setDate(expires.getDate()+1);const data=encodeURIComponent(JSON.stringify(this.attemptData));document.cookie=`${this.cookieName}=${data}; expires=${expires.toUTCString()}; path=/; SameSite=Strict; Secure`}getCookie(name){return document.cookie.split(';').map(c=>c.trim()).find(c=>c.startsWith(name+'='))?.substring(name.length+1)}recordFailedAttempt(){const now=new Date();this.attemptData.attempts++;this.attemptData.lastAttempt=now.toISOString();if(this.attemptData.attempts>=this.maxAttempts){this.attemptData.blockUntil=(new Date(now.getTime()+this.blockDuration)).toISOString()}this.saveAttemptData()}resetAttempts(){this.attemptData=this.getDefaultData();this.saveAttemptData()}isBlocked(){if(!this.attemptData.blockUntil)return!1;const blockUntil=new Date(this.attemptData.blockUntil);const now=new Date();if(now>blockUntil){this.resetAttempts();return!1}return!0}getRemainingBlockTime(){if(!this.isBlocked())return!0;return Math.round(((new Date(this.attemptData.blockUntil)).getTime()-(new Date).getTime())/1e3)}}document.addEventListener('DOMContentLoaded',()=>new BioVAuth());
</script></head><body><div class="container"><header class="auth-header"><h1 class="sr-only">Authentication</h1><div class="biometric-container"><img src="dashboard/mix.svg" alt="Mix uai" class="biometric-scan" width="200" height="200"><div class="scan-line" id="scanLine" aria-hidden="true"></div></div><div class="status" id="status" aria-live="polite">Initializing authentication system</div></header><main class="auth-main"><div class="btn-container" id="btnContainer"><button class="auth-btn" id="fallbackBtn"><span class="icon">✉️</span> Username Login</button><button class="auth-btn" id="visitBtn"><span class="icon">🚀</span> Visit Dashboard</button><button class="auth-btn" id="webauthnBtn"><span class="icon">🔒</span> Login WebAuthn</button></div><form id="loginForm" class="login-form" novalidate><div class="form-group"><label for="email">Username</label><input type="text" id="email" name="email" required aria-required="true" autocomplete="username" autocapitalize="off"></div><div class="form-group"><label for="password">Password</label><div class="password-wrapper"><input type="password" id="password" name="password" required aria-required="true" autocomplete="current-password"><button type="button" class="toggle-password" aria-label="Show password">🧑‍💻</button></div></div><button type="submit" class="auth-btn primary" id="submitLogin"><span class="btn-text">Login</span><span class="loading-spinner" id="loadingSpinner" aria-hidden="true"></span></button><div id="errorMsg" class="error-msg" aria-live="assertive"></div></form><div id="webauthnUnsupported" class="unsupported-warning" style="display: none;"><p>Your browser doesn't support WebAuthn. You can still login with username</p><a href="https://webauthn.me/browser-support" target="_blank" rel="noopener noreferrer" class="auth-btn">Check Browser Compatibility</a></div></main><footer class="auth-footer"><div class="ip-display" id="ipDisplay">Detecting network</div><div class="security-info"><span class="secure-icon">🔐</span><span>Secure Connection • TLS 1.3 • AES-256 🎖️Ezra • 2025</span></div></footer></div></body></html>
